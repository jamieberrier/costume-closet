<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Costume Closet</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <!-- Navigation Bar -->
    <% if logged_in? %>
      <nav class="navbar is-primary" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <div class="navbar-item has-icons">
              <span class="fas fa-door-closed"></span>
                <%= link_to "My Closet", dance_studio_path(current_user) %>
            </div>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="nb">
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="nb" class="navbar-menu">
          <div class="navbar-start">
            <div class="navbar-item">
              <%= link_to "New Costume", new_dance_studio_costume_path(current_user), class: 'link is-info' %>
            </div>
            <div class="navbar-item">
              <div class="field has-addons">
                <p class="control">
                  <input class="input" type="text" placeholder="Find a costume">
                </p>
                <p class="control">
                  <button class="button">Search</button>
                </p>
              </div>
            </div>
          </div>
          <div class="navbar-end">
            <div class="navbar-item">
              <%= link_to "Log Out", logout_path, class: 'link is-info', method: :post %>
            </div>
          </div>
        </div>
      </nav>
    <% end %>
    <!-- Display validation messages -->
    <section class='section'>
      <div class='container is-fluid'>
        <% flash.each do |name, msg| %>
          <div class='notification is-<%= name %>'>
            <%= msg %>
          </div>
        <% end %>
      </div>
      <%= yield %>
    </section>
  </body>
  <footer class="branding">
    <div class="content has-text-centered">
      <p>
      </p>
    </div>
  </footer>
</html>
