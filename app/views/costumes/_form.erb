<%= form_for [current_user, @costume] do |f| %>
  <%= f.hidden_field :dance_studio_id %>
  <!-- top description -->
  <div class='box'>
    <h2 class='subtitle'>Two-Piece Costume</h2>
    <div class='field'>
      <%= f.label :top_description, 'Top Description', class: 'label' %>
      <div class='control has-icons-left'>
        <%= f.text_field :top_description, class:'input', placeholder: 'Enter description of top for a two-piece costume' %>
      </div>
    </div>
    <!-- bottoms description -->
    <div class='field'>
      <%= f.label :bottoms_description, 'Bottoms Description', class: 'label' %>
      <div class='control has-icons-left'>
        <%= f.text_field :bottoms_description, class:'input', placeholder: 'Enter description of bottoms for a two-piece costume' %>
      </div>
    </div>
    <p class='help is-danger'>Must fill out both for a two-piece costume</p>
  </div>
  <!-- onepiece description -->
  <div class='box'>
    <h2 class='subtitle'>One-Piece Costume</h2>
    <div class='field'>
      <%= f.label 'Description', class: 'label' %>
      <div class='control has-icons-left'>
        <%= f.text_field :onepiece_description, class:'input', placeholder: 'Enter description for a one-piece costume' %>
      </div>
    </div>
    <p class='help is-danger'>Must fill out for a one-piece costume</p>
  </div>
  <div class='box'>
    <!-- hair accessory description -->
    <div class='field'>
      <%= f.label :hair_accessory, 'Hair Accessory', class: 'label' %>
      <div class='control has-icons-left'>
        <%= f.text_field :hair_accessory, class:'input', placeholder: 'Enter description if costume is has a hair accessory' %>
      </div>
    </div>
    <!-- picture -->
    <div class='field'>
      <%= f.label :picture, class: 'label' %>
      <div class='control has-icons-left'>
        <%= f.text_field :picture, class:'input', placeholder: 'Enter picture url' %>
      </div>
    </div>
  </div>
  <!--%= f.text_field f.object %-->
  <!-- Costume Assignment info -->
  <div class='field'>
    <div class='control has-text-centered'>
      <h2 class='title has-text-primary is-size-4'>Assign Costume</h2>
    </div>
    <p class='help is-danger has-text-centered'>(optional: can assign costume to dancers later)</p>  
  </div>
  <div class='box'>
    <h2 class='subtitle'>Enter Costume Assignment Details</h2>
    <%= f.fields_for :costume_assignments do |assignment_builder| %>
      <% if assignment_builder.object.dancer_id.nil? %>
        <p>
          <!-- Dance Season -->
          <div class='field'>
            <%= assignment_builder.label :dance_season, "Dance Season", class: 'label' %>
            <div class='control'>
              <%= assignment_builder.text_field :dance_season, class:'input', placeholder: 'i.e. 2020' %>
            </div>
          </div>
          <!-- Song Name -->
          <div class='field'>
            <%= assignment_builder.label :song_name, "Song Name", class: 'label' %>
            <div class='control'>
              <%= assignment_builder.text_field :song_name, class:'input' %>
            </div>
          </div>
          <!-- Genre -->
          <div class='field'>
            <%= assignment_builder.label :genre, class: 'label' %>
            <div class='control'>
              <%= assignment_builder.text_field :genre, class:'input' %>
            </div>
          </div>
          <!-- Shoes -->
          <div class='field'>
            <%= assignment_builder.label :shoe, class: 'label' %>
            <div class='control'>
              <%= assignment_builder.text_field :shoe, class:'input' %>
            </div>
          </div>
          <!-- Tights -->
          <div class='field'>
            <%= assignment_builder.label :tight, class: 'label' %>
            <!--label class="label" for="costume_costume_assignments_attributes_0_tight">Tight</label-->
            <div class='control'>
              <%= assignment_builder.text_field :tight, class:'input' %>
              <!--input class="input" type="text" name="costume[costume_assignments_attributes][0][tight]" id="costume_costume_assignments_attributes_0_tight"-->
            </div>
          </div>
        </p>
      <% end %>
    <% end %>
  </div>
  <!-- Dancers -->
  <div class='box'>
    <h2 class='subtitle'>Select Dancer(s)</h2>
    <div class='columns'>
      <%= f.fields_for :costume_assignments do |assignment_builder| %>
        <% if !assignment_builder.object.dancer_id.nil? %>
          <div class='column'>
            <div class='field'>
              <div class='control'>
                <%= assignment_builder.check_box :dancer_id, {:checked => false, class: 'checkbox'}, assignment_builder.object.dancer_id, "0" %>
                <!--input name="costume[costume_assignments_attributes][7][dancer_id]" type="hidden" value="0"-->
                <!--input class="checkbox" type="checkbox" value="1" name="costume[costume_assignments_attributes][7][dancer_id]" id="costume_costume_assignments_attributes_7_dancer_id"-->
                <!-- next dancer -->
                <!--input name="costume[costume_assignments_attributes][8][dancer_id]" type="hidden" value="0"-->
                <!--input class="checkbox" type="checkbox" value="2" name="costume[costume_assignments_attributes][8][dancer_id]" id="costume_costume_assignments_attributes_8_dancer_id"-->
                <%= assignment_builder.label assignment_builder.object.dancer.name,  assignment_builder.object.dancer.name, class: 'checkbox has-text-weight-bold' %>
                <!--label class="checkbox" for="costume_costume_assignments_attributes_7_Madelyn Berrier">Madelyn Berrier</label-->              
              </div>
            </div>
            <div class='field'>
              <%= assignment_builder.label :costume_size, 'Costume Size', class: 'label is-size-7' %>
              <div class='control'>
                <%= assignment_builder.text_field :costume_size, class:'input is-small' %>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <!-- submit button -->
  <div class='field'>
    <div class='control'>
      <%= f.submit class: 'button is-primary' %>
    </div>
  </div>
<% end %>